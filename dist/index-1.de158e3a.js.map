{"mappings":"AAAA,MAAM,SAAS,EAAE;AACjB,IAAI,iBAAiB;AAErB,SAAS,cAAc,kBAAkB,iBAAiB,SAAS;AAEnE,eAAe,QAAQ,QAAQ;IAC3B,MAAM,YAAY;IAClB,MAAM,SAAS;IACf,MAAM,MAAM,CAAC,EAAE,UAAU,GAAG,EAAE,SAAS,OAAO,EAAE,OAAO,CAAC;IAExD,MAAM,MAAM,MAAM,MAAM;IACxB,MAAM,OAAO,MAAM,IAAI;IAEvB,OAAO;AACX;AAEA,SAAS;IACL,MAAM,WAAW,SAAS,cAAc,UAAU;IAClD,SAAS,cAAc,UAAU,QAAQ;IACzC,eAAe;IACf,QAAQ;AACZ;AAEA,MAAM,iBAAiB,OAAO;IAC1B,iBAAiB,MAAM,QAAQ;IAC/B;AACJ;AAEA,MAAM,0BAA0B;IAC5B,IAAI,gBAAgB;QAChB,SAAS,cAAc,yBAAyB,YAAY,eAAe,KAAK;QAChF,SAAS,cAAc,uBAAuB,YAAY,eAAe,OAAO,CAAC,EAAE,CAAC;QACpF,SAAS,cAAc,sBAAsB,YAAY,eAAe;IAC5E;AACJ;AAEA,MAAM,UAAU,CAAC;IACb,IAAI,OAAO,SAAS,aAAa,OAAO;QACpC,OAAO,KAAK;QACZ;IACJ;AACJ;AAEA,MAAM,kBAAkB;IACpB,SAAS,iBAAiB,iBAAiB,QAAQ,CAAC;QAChD,GAAG;IACP;IAEA,MAAM,KAAK,SAAS,cAAc;IAElC,OAAO,QAAQ,CAAC;QACZ,MAAM,KAAK,SAAS,cAAc;QAClC,GAAG,YAAY;QACf,GAAG,UAAU,IAAM,eAAe;QAElC,GAAG,YAAY;IACnB;AACJ;AAEA","sources":["src/main.js"],"sourcesContent":["const cities = [];\nlet activeCityData = null;\n\ndocument.querySelector('.search-button').addEventListener('click', onSearchClick);\n\nasync function sendReq(cityName) {\n    const serverUrl = 'http://api.openweathermap.org/data/2.5/weather';\n    const apiKey = 'f660a2fb1e4bad108d6160b7f58c555f';\n    const url = `${serverUrl}?q=${cityName}&appid=${apiKey}`;\n\n    const res = await fetch(url);\n    const data = await res.json();\n\n    return data;\n}\n\nfunction onSearchClick() {\n    const cityName = document.querySelector('.input').value;\n    document.querySelector('.input').value = '';\n    updateCityData(cityName);\n    addCity(cityName);\n}\n\nconst updateCityData = async (cityName) => {\n    activeCityData = await sendReq(cityName);\n    renderActiveCityWeather();\n};\n\nconst renderActiveCityWeather = () => {\n    if (activeCityData) {\n        document.querySelector('.left-weather-degrees').innerText = activeCityData.main.humidity;\n        document.querySelector('.left-weather-cloud').innerText = activeCityData.weather[0].main;\n        document.querySelector('.left-weather-city').innerText = activeCityData.name;\n    }\n};\n\nconst addCity = (cityName) => {\n    if (cities.includes(cityName) == false) {\n        cities.push(cityName);\n        renderFavorites();\n    }\n};\n\nconst renderFavorites = () => {\n    document.querySelectorAll('.city-list li').forEach((el) => {\n        el.remove();\n    });\n\n    const ul = document.querySelector('.city-list ul');\n\n    cities.forEach((city) => {\n        const li = document.createElement('li');\n        li.innerHTML = city;\n        li.onclick = () => updateCityData(city);\n\n        ul.appendChild(li);\n    });\n};\n\nrenderFavorites();\n"],"names":[],"version":3,"file":"index-1.de158e3a.js.map","sourceRoot":"/__parcel_source_root/"}